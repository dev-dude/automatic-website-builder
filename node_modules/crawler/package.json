{
  "name": "crawler",
  "version": "0.4.3",
  "description": "Crawler is a web spider written with Nodejs. It gives you the full power of jQuery on the server to parse a big number of pages as they are downloaded, asynchronously. Scraping should be simple and fun!",
  "keywords": [
    "dom",
    "javascript",
    "crawling",
    "spider",
    "scraper",
    "scraping",
    "jquery",
    "crawler"
  ],
  "maintainers": [
    {
      "name": "Sylvain Zimmer",
      "email": "sylvain@sylvainzimmer.com",
      "url": "http://sylvinus.org/"
    },
    {
      "name": "Paul Valla",
      "email": "bonjour@pol.ninja",
      "url": "http://www.pol.ninja/"
    }
  ],
  "bugs": {
    "url": "http://github.com/sylvinus/node-crawler/issues"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "http://github.com/sylvinus/node-crawler/blob/master/LICENSE.txt"
    }
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/sylvinus/node-crawler.git"
  },
  "dependencies": {
    "cheerio": "0.18.0",
    "generic-pool": "2.1.1",
    "iconv": "*",
    "iconv-lite": "0.4.4",
    "jschardet": "1.1.0",
    "lodash": "2.4.1",
    "request": "2.42.0"
  },
  "optionalDependencies": {
    "iconv": "*"
  },
  "devDependencies": {
    "chai": "1.9.2",
    "mocha": "2.2.1",
    "mocha-testdata": "1.1.0",
    "sinon": "1.11.1",
    "jsdom": "3.1.1"
  },
  "scripts": {
    "test": "./node_modules/mocha/bin/mocha --reporter spec --bail --timeout 10000 tests/*.js"
  },
  "engines": [
    "node >=0.8.x"
  ],
  "directories": {
    "lib": "lib"
  },
  "main": "./lib/crawler",
  "readme": "[![Build Status](https://travis-ci.org/sylvinus/node-crawler.svg?branch=master)](https://travis-ci.org/sylvinus/node-crawler)\n\nNode Crawler is not maintained at the moment (unless critical bug)\n------\nHave a look at alternatives modules:\n\n* [node-spider](https://github.com/mikeal/spider)\n* [node-simplecrawler](https://github.com/cgiffard/node-simplecrawler)\n* [phantomJS](http://phantomjs.org/)\n\nnode-crawler\n------------\n\nnode-crawler aims to be the best crawling/scraping package for Node.\n\nIt features:\n * A clean, simple API\n * server-side DOM & automatic jQuery insertion with Cheerio (default) or JSDOM\n * Configurable pool size and retries\n * Priority of requests\n * forceUTF8 mode to let node-crawler deal for you with charset detection and conversion\n * A local cache\n * node 0.10 and 0.12 support\n\nThe argument for creating this package was made at ParisJS #2 in 2010 ( [lightning talk slides](http://www.slideshare.net/sylvinus/web-crawling-with-nodejs) )\n\nHelp & Forks welcomed!\n\nHow to install\n--------------\n\n    $ npm install crawler\n\nCrash course\n------------\n\n```javascript\nvar Crawler = require(\"crawler\");\nvar url = require('url');\n\nvar c = new Crawler({\n    maxConnections : 10,\n    // This will be called for each crawled page\n    callback : function (error, result, $) {\n        // $ is Cheerio by default\n        //a lean implementation of core jQuery designed specifically for the server\n        $('a').each(function(index, a) {\n            var toQueueUrl = $(a).attr('href');\n            c.queue(toQueueUrl);\n        });\n    }\n});\n\n// Queue just one URL, with default callback\nc.queue('http://joshfire.com');\n\n// Queue a list of URLs\nc.queue(['http://jamendo.com/','http://tedxparis.com']);\n\n// Queue URLs with custom callbacks & parameters\nc.queue([{\n    uri: 'http://parishackers.org/',\n    jQuery: false,\n\n    // The global callback won't be called\n    callback: function (error, result) {\n        console.log('Grabbed', result.body.length, 'bytes');\n    }\n}]);\n\n// Queue using a function\nvar googleSearch = function(search) {\n  return 'http://www.google.fr/search?q=' + search;\n};\nc.queue({\n  uri: googleSearch('cheese')\n});\n\n// Queue some HTML code directly without grabbing (mostly for tests)\nc.queue([{\n    html: '<p>This is a <strong>test</strong></p>'\n}]);\n```\nFor more examples, look at the [tests](https://github.com/sylvinus/node-crawler/tree/master/tests).\n\nOptions reference\n-----------------\n\nYou can pass these options to the Crawler() constructor if you want them to be global or as\nitems in the queue() calls if you want them to be specific to that item (overwriting global options)\n\nThis options list is a strict superset of [mikeal's request options](https://github.com/mikeal/request#requestoptions-callback) and will be directly passed to\nthe request() method.\n\nBasic request options:\n\n * `uri`: String, the URL you want to crawl\n * `timeout` : Number, in milliseconds        (Default 60000)\n * [All mikeal's requests options are accepted](https://github.com/mikeal/request#requestoptions-callback)\n\nCallbacks:\n\n * `callback(error, result, $)`: A request was completed\n * `onDrain()`: There is no more queued requests\n\nPool options:\n\n * `maxConnections`: Number, Size of the worker pool (Default 10),\n * `priorityRange`: Number, Range of acceptable priorities starting from 0 (Default 10),\n * `priority`: Number, Priority of this request (Default 5),\n\nRetry options:\n\n * `retries`: Number of retries if the request fails (Default 3),\n * `retryTimeout`: Number of milliseconds to wait before retrying (Default 10000),\n\nServer-side DOM options:\n\n * `jQuery`: true, false or ConfObject (Default true)\n   see below [Working with Cheerio or JSDOM](https://github.com/paulvalla/node-crawler/blob/master/README.md#working-with-cheerio-or-jsdom)\n\nCharset encoding:\n\n * `forceUTF8`: Boolean, if true will try to detect the page charset and convert it to UTF8 if necessary. Never worry about encoding anymore! (Default false),\n * `incomingEncoding`: String, with forceUTF8: true to set encoding manually (Default null)\n     `incomingEncoding : 'windows-1255'` for example\n\nCache:\n\n * `cache`: Boolean, if true stores requests in memory (Default false)\n * `skipDuplicates`: Boolean, if true skips URIs that were already crawled, without even calling callback() (Default false)\n\nOther:\n\n * `userAgent`: String, defaults to \"node-crawler/[version]\"\n * `referer`: String, if truthy sets the HTTP referer header\n * `rateLimits`: Number of milliseconds to delay between each requests (Default 0) Note that this option will force crawler to use only one connection (for now)\n\nWorking with Cheerio or JSDOM\n-----------------------------\n\nCrawler by default use [Cheerio](https://github.com/cheeriojs/cheerio) instead of [Jsdom](https://github.com/tmpvar/jsdom). Jsdom is more robust but can be hard to install (espacially on windows) because of [contextify](https://github.com/tmpvar/jsdom#contextify).\nWhich is why, if you want to use jsdom you will have to build it, and `require('jsdom')` in your own script before passing it to crawler. This is to avoid cheerio crawler user to build jsdom when installing crawler.\n\n###Working with Cheerio\n```javascript\njQuery: true //(default)\n//OR\njQuery: 'cheerio'\n//OR\njQuery: {\n    name: 'cheerio',\n    options: {\n        normalizeWhitespace: true,\n        xmlMode: true\n    }\n}\n```\nThese parsing options are taken directly from [htmlparser2](https://github.com/fb55/htmlparser2/wiki/Parser-options), therefore any options that can be used in `htmlparser2` are valid in cheerio as well. The default options are:\n\n```js\n{\n    normalizeWhitespace: false,\n    xmlMode: false,\n    decodeEntities: true\n}\n```\n\nFor a full list of options and their effects, see [this](https://github.com/fb55/DomHandler) and\n[htmlparser2's options](https://github.com/fb55/htmlparser2/wiki/Parser-options).\n[source](https://github.com/cheeriojs/cheerio#loading)\n\n###Working with JSDOM\n\nIn order to work with JSDOM you will have to install it in your project folder `npm install jsdom`, deal with [compiling C++](https://github.com/tmpvar/jsdom#contextify) and pass it to crawler.\n```javascript\nvar jsdom = require('jsdom');\nvar Crawler = require('crawler');\n\nvar c = new Crawler({\n    jQuery: jsdom\n});\n```\n\nHow to test\n-----------\n\n### Install and run Httpbin\n\nnode-crawler use a local httpbin for testing purpose. You can install httpbin as a library from PyPI and run it as a WSGI app. For example, using Gunicorn:\n\n    $ pip install httpbin\n    // launch httpbin as a daemon with 6 worker on localhost\n    $ gunicorn httpbin:app -b 127.0.0.1:8000 -w 6 --daemon\n\n    // Finally\n    $ npm install && npm test\n\n### Alternative: Docker\n\nAfter [installing Docker](http://docs.docker.com/), you can run:\n\n    // Builds the local test environment\n    $ docker build -t node-crawler .\n\n    // Runs tests\n    $ docker run node-crawler sh -c \"gunicorn httpbin:app -b 127.0.0.1:8000 -w 6 --daemon && npm install && npm test\"\n\n    // You can also ssh into the container for easier debugging\n    $ docker run -i -t node-crawler bash\n\n[![build status](https://secure.travis-ci.org/sylvinus/node-crawler.png)](http://travis-ci.org/sylvinus/node-crawler)\n\nRough todolist\n--------------\n\n * Refactoring the code to be more maintenable, it's spaghetti code in there !\n * Have a look at the Cache feature and refactor it\n * Same for the Pool\n * Proxy feature\n * This issue: https://github.com/sylvinus/node-crawler/issues/118\n * Make Sizzle tests pass (jsdom bug? https://github.com/tmpvar/jsdom/issues#issue/81)\n * More crawling tests\n * Document the API more (+ the result object)\n * Option to wait for callback to finish before freeing the pool resource (via another callback like next())\n\n\nChangeLog\n---------\n\nSee https://github.com/sylvinus/node-crawler/releases\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/sylvinus/node-crawler",
  "_id": "crawler@0.4.3",
  "_shasum": "15a7f65b68ab2e55613254490c94d7994a4e2c59",
  "_from": "crawler@",
  "_resolved": "https://registry.npmjs.org/crawler/-/crawler-0.4.3.tgz"
}
